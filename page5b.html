<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Path of Stealth</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <section class="container">
      <h1>The Path of Stealth</h1>
      <p>
        To successfully navigate the Path of Stealth, you must choose your
        actions carefully. Select the correct sequence of actions to avoid
        detection and reach your objective.
      </p>

      <!-- Actions -->
      <div onclick="selectAction('hide')" class="stealth-option">
        Hide in the shadows
      </div>
      <div onclick="selectAction('run')" class="stealth-option">
        Run quickly to the next cover
      </div>
      <div onclick="selectAction('distract')" class="stealth-option">
        Create a distraction
      </div>
      <div onclick="selectAction('wait')" class="stealth-option">
        Wait for the right moment
      </div>

      <!-- Buttons -->
      <button onclick="checkSequence()">Check Sequence</button>
      <button onclick="reset()">Reset!</button>

      <script>
        const correctSequence = ["hide", "wait", "distract"];
        const stealthOptions = document.querySelectorAll(".stealth-option");

        // Your Code here
        let playerSequence = [];

        function selectAction(action) {
          const div = document.querySelector(
            `[onclick="selectAction('${action}')"]`
          );
          div.style.backgroundColor = "lightgreen";
          playerSequence.push(action);
        }

        function checkSequence() {
          if (playerSequence.length === correctSequence.length) {
            for (let i = 0; i < correctSequence.length; i++) {
              if (playerSequence[i] !== correctSequence[i]) {
                alert("You have been detected!");
                reset();
                return;
              }
            }
            alert("You have successfully navigated the Path of Stealth!");
            window.location.href = "page6.html";
          } else {
            alert("You have been detected!");
            reset();
          }
        }

        function reset() {
          stealthOptions.forEach(
            (div) => (div.style.backgroundColor = "#f0f0f0")
          );
          playerSequence = [];
        }
      </script>
    </section>
  </body>
</html>
